I"¦Ä<h4 id="contents">Contents</h4>
<ul>
  <li><a href="#object-to-timestamp--to_datetimeí•¨ìˆ˜">Object To Timestamp : to_datetimeí•¨ìˆ˜</a>
    <ul>
      <li><a href="#1-1-format-ì˜µì…˜">1-1) format ì˜µì…˜</a></li>
      <li><a href="#1-2-infer_datetime_format-ì˜µì…˜">1-2) infer_datetime_format ì˜µì…˜</a></li>
      <li><a href="#1-3-to_datetimeí•¨ìˆ˜ì—ì„œ-format-ìŠ¤íŠ¸ë§ì„-ëª…ì‹œí•´ì•¼í•˜ëŠ”-ì´ìœ ">1-3) to_datetimeí•¨ìˆ˜ì—ì„œ format ìŠ¤íŠ¸ë§ì„ ëª…ì‹œí•´ì•¼í•˜ëŠ” ì´ìœ </a></li>
      <li><a href="#1-4-error-ì˜µì…˜">1-4) error ì˜µì…˜</a></li>
      <li><a href="#1-5-dayfirst-yearfirst-ì˜µì…˜">1-5) dayfirst, yearfirst ì˜µì…˜</a></li>
    </ul>
  </li>
  <li><a href="#timestampì˜-timezone">Timestampì˜ timezone</a>
    <ul>
      <li><a href="#2-1-dttz_localize">2-1) dt.tz_localize</a></li>
      <li><a href="#2-2-dttz_convert">2-2) dt.tz_convert</a></li>
    </ul>
  </li>
  <li><a href="#timestamp-ë°°ì—´-ìƒì„±--date_range">Timestamp ë°°ì—´ ìƒì„± : date_range</a></li>
</ul>

<p>ë³¸ í¬ìŠ¤íŒ…ì€ ì¹´í…Œê³ ë¦¬ pandasì˜ ì‹œê³„ì—´ë°ì´í„°ì— ê´€í•˜ì—¬ ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.</p>

<p><br /></p>

<hr />

<p>ì˜ˆì‹œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤. ë‹¤ìŒ ë°ì´í„°ëŠ” ì‹œê°„ê³¼ ë‚ ì§œì— ëŒ€í•œ ì˜ˆì‹œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©° ëª¨ë“  í•„ë“œê°€ <code class="language-plaintext highlighter-rouge">object</code>ê°ì²´ë¡œ ì´ë£¨ì–´ì ¸ìˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'./datetime_ex.csv'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">info</span><span class="p">())</span>
<span class="n">df</span><span class="p">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1000 entries, 0 to 999
Data columns (total 3 columns):
 #   Column        Non-Null Count  Dtype 
---  ------        --------------  ----- 
 0   origin_date1  1000 non-null   object
 1   origin_date2  1000 non-null   object
 2   origin_date3  1000 non-null   object
dtypes: object(3)
memory usage: 23.6+ KB
None

	      origin_date1 origin_date2 origin_date3
0  2015-10-02 21:12:01 UTC   02/10/2015     02/10/15
1  2014-10-26 15:12:00 UTC   26/10/2014     26/10/14
2  2014-10-26 15:12:00 UTC   26/10/2014     26/10/14
3  2014-10-26 15:12:00 UTC   26/10/2014     26/10/14
4  2014-10-26 18:12:00 UTC   26/10/2014     26/10/14
</code></pre></div></div>

<p><br /></p>

<h2 id="object-to-timestamp--to_datetimeí•¨ìˆ˜"><span style="color:navy">Object To Timestamp : to_datetimeí•¨ìˆ˜<span></span></span></h2>

<p>íŒë‹¤ìŠ¤ì˜ <code class="language-plaintext highlighter-rouge">to_datetime()</code> í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ë©´ <code class="language-plaintext highlighter-rouge">object</code>,  <br />
ì¦‰ ë¬¸ìì—´ë¡œ êµ¬ì„±ëœ ì‹œê°„ ë° ë‚ ì§œë¥¼ <code class="language-plaintext highlighter-rouge">datetime64</code>í˜•ì‹ìœ¼ë¡œ ë³€í™˜ì‹œí‚¬ ìˆ˜ ìˆë‹¤.<br />
ë‹¤ìŒì€ <code class="language-plaintext highlighter-rouge">to_datetime()</code> í•¨ìˆ˜ì˜ ê¸°ë³¸í˜•ì‹ê³¼ ìœ ìš©í•œ íŒŒë¼ë¯¸í„°ì´ë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span>
		<span class="n">arg</span><span class="p">,</span>
		<span class="nb">format</span><span class="o">=</span><span class="p">...,</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="bp">True</span><span class="o">|</span><span class="bp">False</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="bp">True</span><span class="o">|</span><span class="bp">False</span><span class="p">,</span>
		<span class="n">errors</span><span class="o">=</span> <span class="s">'raise'</span><span class="o">|</span><span class="s">'coerce'</span><span class="o">|</span><span class="s">'ignore'</span><span class="p">,</span> 
		<span class="n">dayfirst</span><span class="o">=</span><span class="bp">True</span><span class="o">|</span><span class="bp">False</span><span class="p">,</span> <span class="n">yearfirst</span><span class="o">=</span><span class="bp">True</span><span class="o">|</span><span class="bp">False</span>
		<span class="p">)</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">arg</code> :  <code class="language-plaintext highlighter-rouge">datetime64</code>í˜•ì‹ìœ¼ë¡œ ë³€í™˜ì‹œí‚¤ë ¤ëŠ” <code class="language-plaintext highlighter-rouge">object</code>í˜•ì‹ì˜ ëŒ€ìƒ</li>
  <li><code class="language-plaintext highlighter-rouge">format</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">arg</code>ì˜ <u>timestampíŒ¨í„´ì„ ì§ì ‘ ì§€ì •í•  ë•Œ ì‚¬ìš©</u>í•œë‹¤.</li>
      <li>ë§Œì•½ 2021-01-01(type = object)ì„ 2021ë…„ 1ì›” 1ì¼ì´ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§„ timestmapë¡œ 
  ë³€í™˜ì‹œí‚¬ ë•Œ <code class="language-plaintext highlighter-rouge">format = '%Y-%m-%d'</code>ë¡œ ê¸°ì…í•œë‹¤.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">infer_datetime_format</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">boolean</code>ê°’ì„ ë°›ëŠ” ì˜µì…˜ì´ë‹¤. (ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">False</code>ì´ë‹¤.)</li>
      <li>í•´ë‹¹ ì˜µì…˜ì´ <code class="language-plaintext highlighter-rouge">True</code>ì¼ ê²½ìš°, <code class="language-plaintext highlighter-rouge">arg</code>ì˜ íŒ¨í„´ì„ ì§ì ‘ ì§€ì •í•˜ëŠ” <code class="language-plaintext highlighter-rouge">format</code> ê³¼ ë‹¤ë¥´ê²Œ, 
  <u>timestampê´€ë ¨ í¬ë§· ì¤‘ í•˜ë‚˜ë¥¼ ìë™ìœ¼ë¡œ íŒŒì‹±í•˜ì—¬ ì§€ì •</u>í•œë‹¤.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">utc</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">boolean</code>ê°’ì„ ë°›ëŠ” ì˜µì…˜ì´ë‹¤. (ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">None</code>ì´ë‹¤.)</li>
      <li><code class="language-plaintext highlighter-rouge">object</code>ë¥¼ ë³€í™˜ì‹œí‚¬ ë•Œ í•´ë‹¹ ì˜µì…˜ì´ <code class="language-plaintext highlighter-rouge">True</code>ì¼ ê²½ìš°, <u>ë°˜í™˜ê°’ì˜ timezoneì´ UTCë¡œ ë°˜í™˜</u>ëœë‹¤.</li>
      <li><u>timezoneì´ ë³€ê²½ë  </u><code class="language-plaintext highlighter-rouge">object</code><u>íƒ€ì…ì˜ timestampì— ì£¼ë¡œ ì‚¬ìš©</u>í•œë‹¤.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">errors</code>  : í¬ë§· íŒŒì‹±ì— ì‹¤íŒ¨í•  ê²½ìš° ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€ ì§€ì •í•œë‹¤.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">raise</code> :  ì—ëŸ¬ë¥¼ ë°˜í™˜í•˜ë„ë¡ í•œë‹¤. (ê¸°ë³¸ê°’ì´ë‹¤.)</li>
      <li><code class="language-plaintext highlighter-rouge">coerce</code> : <code class="language-plaintext highlighter-rouge">NaT</code>ë¥¼ ë°˜í™˜í•œë‹¤.</li>
      <li><code class="language-plaintext highlighter-rouge">ignore</code> : ì—ëŸ¬ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šê³  ì›ë³¸ê°’ì„ ë°˜í™˜í•œë‹¤.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">dayfirst</code>  : íŒŒì‹±ë˜ëŠ” ìˆœì„œë¥¼ êµ¬ì²´í™”ì‹œí‚¬ ë•Œ ì‚¬ìš©í•œë‹¤
    <ul>
      <li><code class="language-plaintext highlighter-rouge">boolean</code>ê°’ì„ ë°›ëŠ” ì˜µì…˜ì´ë‹¤. (ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">False</code>ì´ë‹¤.)</li>
      <li><code class="language-plaintext highlighter-rouge">True</code> ì¼ ê²½ìš° dateì˜ ê°€ì¥ ìš°ì¸¡(day)ë¶€í„° ë…„/ì›”/ì¼ ìˆœì„œë¡œ íŒŒì‹±ëœë‹¤.
  ex) 10-12-11 â†’ 2011ë…„ 12ì›” 10ì¼</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">yearfirst</code> : íŒŒì‹±ë˜ëŠ” ìˆœì„œë¥¼ êµ¬ì²´í™”ì‹œí‚¬ ë•Œ ì‚¬ìš©í•œë‹¤
    <ul>
      <li><code class="language-plaintext highlighter-rouge">boolean</code>ê°’ì„ ë°›ëŠ” ì˜µì…˜ì´ë‹¤. (ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">False</code>ì´ë‹¤.)</li>
      <li><code class="language-plaintext highlighter-rouge">True</code>ì¼ ê²½ìš° dateì˜ ê°€ì¥ ì¢Œì¸¡(year)ë¶€í„° ë…„/ì›”/ì¼ ìˆœì„œë¡œ íŒŒì‹±ëœë‹¤.
  ex) 10-12-11 â†’ 2010ë…„ 12ì›” 11ì¼</li>
      <li><code class="language-plaintext highlighter-rouge">dayfirst</code> ì˜µì…˜ê³¼ ë™ì‹œì— ì‚¬ìš©í•  ê²½ìš°, <code class="language-plaintext highlighter-rouge">yearfirst</code>ê°€ ë¨¼ì € ì ìš©ëœë‹¤.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<p>ì§€ê¸ˆë¶€í„°  <code class="language-plaintext highlighter-rouge">to_datetime</code>í•¨ìˆ˜ë¥¼ ì´ìš©í•œ ì˜ˆì œë“¤ì„ ì‚´í´ë³¼ ê²ƒì´ë©° ê° ì˜ˆì œëŠ” í•¨ìˆ˜ì˜ ê° ì˜µì…˜ì˜ íŠ¹ì§•ì— ê´€í•´ì„œ í•¨ê»˜ ë‹¤ë£° ê²ƒì´ë‹¤.</p>

<p><br /></p>

<h3 id="1-1-format-ì˜µì…˜"><span style="color:navy">1-1) format ì˜µì…˜<span></span></span></h3>

<p>ë¨¼ì €, <code class="language-plaintext highlighter-rouge">format</code>ì˜µì…˜ì„ ì§ì ‘ ì§€ì •í•˜ì—¬ ë³€í™˜ì‹œí‚¨ ì˜ˆì œì´ë‹¤.<br />
<code class="language-plaintext highlighter-rouge">datetime64</code>ë¡œ ë³€í™˜ë˜ì—ˆì§€ë§Œ timezoneì´ ì„¤ì •ë˜ì§€ ì•Šì€ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df_ex2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s">'origin_date1'</span><span class="p">,</span> <span class="s">'origin_date2'</span><span class="p">]].</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_ex2</span><span class="p">[</span><span class="s">'ex1'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_ex2</span><span class="p">[</span><span class="s">'origin_date1'</span><span class="p">],</span> <span class="nb">format</span> <span class="o">=</span> <span class="s">'%Y-%m-%d %H:%M:%S UTC'</span><span class="p">)</span>
<span class="n">df_ex2</span><span class="p">[</span><span class="s">'ex2'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_ex2</span><span class="p">[</span><span class="s">'origin_date2'</span><span class="p">],</span> <span class="nb">format</span> <span class="o">=</span> <span class="s">'%d/%m/%Y'</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">df_ex2</span><span class="p">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• ì „ íƒ€ì… :'</span><span class="p">,</span> <span class="n">df_ex2</span><span class="p">[</span><span class="s">'origin_date1'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• í›„ íƒ€ì… :'</span><span class="p">,</span> <span class="n">df_ex2</span><span class="p">[</span><span class="s">'ex1'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• ì „ íƒ€ì… :'</span><span class="p">,</span> <span class="n">df_ex2</span><span class="p">[</span><span class="s">'origin_date2'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• í›„ íƒ€ì… :'</span><span class="p">,</span> <span class="n">df_ex2</span><span class="p">[</span><span class="s">'ex2'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		origin_date1 origin_date2               ex1        ex2
0  2015-10-02 21:12:01 UTC   02/10/2015 2015-10-02 21:12:01 2015-10-02
1  2014-10-26 15:12:00 UTC   26/10/2014 2014-10-26 15:12:00 2014-10-26
2  2014-10-26 15:12:00 UTC   26/10/2014 2014-10-26 15:12:00 2014-10-26
3  2014-10-26 15:12:00 UTC   26/10/2014 2014-10-26 15:12:00 2014-10-26
4  2014-10-26 18:12:00 UTC   26/10/2014 2014-10-26 18:12:00 2014-10-26 

ë³€í˜• ì „ íƒ€ì… : object
ë³€í˜• í›„ íƒ€ì… : datetime64[ns]
ë³€í˜• ì „ íƒ€ì… : object
ë³€í˜• í›„ íƒ€ì… : datetime64[ns]
</code></pre></div></div>

<p><br /></p>

<h3 id="1-2-infer_datetime_format-ì˜µì…˜"><span style="color:navy">1-2) infer_datetime_format ì˜µì…˜<span></span></span></h3>

<p>ìœ„ì—ì„œ ì²˜ëŸ¼ ì§ì ‘ ì§€ì •í•˜ì—¬ ë³€í™˜ì‹œí‚¬ ìˆ˜ ìˆì§€ë§Œ, ê¸°ë³¸í˜•ì‹ì—ì„œ í™•ì¸í•œ <code class="language-plaintext highlighter-rouge">infer_datetime_format</code> ì˜µì…˜ì„ ì§€ì •í•˜ë©´ timestampì˜ ë‹¤ì–‘í•œ í¬ë§·ì¤‘ í•˜ë‚˜ë¥¼ ìë™ìœ¼ë¡œ íŒŒì‹±í•˜ì—¬ ì ìš©ì‹œí‚¬ ìˆ˜ë„ ìˆë‹¤.<br /></p>

<p>ì•„ë˜ ì˜ˆì œì˜ ê²½ìš°  <code class="language-plaintext highlighter-rouge">UTC</code>ì˜µì…˜ì„ ë³„ë„ë¡œ ì§€ì •í•˜ì§€ ì•Šì•˜ì§€ë§Œ, <u>UTCë¼ëŠ” ë¬¸ìì—´ì„ í†µí•´ timezoneì„ ìë™ìœ¼ë¡œ íŒŒì‹±</u>í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. <br /></p>

<p>ë°˜ë©´, UTCë¬¸ìì—´ì´ ì—†ëŠ” origin_date2ëŠ” timezoneì´ ì„¤ì •ë˜ì§€ ì•Šê³  ìë™ìœ¼ë¡œ íŒŒì‹±ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ë”ë¶ˆì–´, ë‹¤ë¥¸ ì •ìˆ˜ë“¤ì„ ìë™ìœ¼ë¡œ íŒŒì‹±í•˜ì—¬ ì›ë³¸ì´ D/M/Y í¬ë§·ì„ì„ ìë™ìœ¼ë¡œ íŒŒì‹±í•˜ì—¬ ì ìš©í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># infer_datetime_format : ì—¬ëŸ¬ datetime ìœ ëª… í¬ë§·ì¤‘ì—ì„œ íŒŒì‹±í•´ì„œ ìë™ìœ¼ë¡œ ë³€í™˜
</span><span class="n">df_ex3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s">'origin_date1'</span><span class="p">,</span> <span class="s">'origin_date2'</span><span class="p">]].</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_ex3</span><span class="p">[</span><span class="s">'ex1'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_ex3</span><span class="p">[</span><span class="s">'origin_date1'</span><span class="p">],</span> <span class="n">infer_datetime_format</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">df_ex3</span><span class="p">[</span><span class="s">'ex2'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_ex3</span><span class="p">[</span><span class="s">'origin_date2'</span><span class="p">],</span> <span class="n">infer_datetime_format</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">df_ex3</span><span class="p">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• ì „ íƒ€ì… :'</span><span class="p">,</span> <span class="n">df_ex3</span><span class="p">[</span><span class="s">'origin_date1'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• í›„ íƒ€ì… :'</span><span class="p">,</span> <span class="n">df_ex3</span><span class="p">[</span><span class="s">'ex1'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• ì „ íƒ€ì… :'</span><span class="p">,</span> <span class="n">df_ex3</span><span class="p">[</span><span class="s">'origin_date2'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• í›„ íƒ€ì… :'</span><span class="p">,</span> <span class="n">df_ex3</span><span class="p">[</span><span class="s">'ex2'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		origin_date1 origin_date2                     ex1        ex2
0  2015-10-02 21:12:01 UTC   02/10/2015 2015-10-02 21:12:01+00:00 2015-02-10
1  2014-10-26 15:12:00 UTC   26/10/2014 2014-10-26 15:12:00+00:00 2014-10-26
2  2014-10-26 15:12:00 UTC   26/10/2014 2014-10-26 15:12:00+00:00 2014-10-26
3  2014-10-26 15:12:00 UTC   26/10/2014 2014-10-26 15:12:00+00:00 2014-10-26
4  2014-10-26 18:12:00 UTC   26/10/2014 2014-10-26 18:12:00+00:00 2014-10-26 

ë³€í˜• ì „ íƒ€ì… : object
ë³€í˜• í›„ íƒ€ì… : datetime64[ns, UTC]
ë³€í˜• ì „ íƒ€ì… : object
ë³€í˜• í›„ íƒ€ì… : datetime64[ns]
</code></pre></div></div>

<p><br /></p>

<h3 id="1-3-to_datetimeí•¨ìˆ˜ì—ì„œ-format-ìŠ¤íŠ¸ë§ì„-ëª…ì‹œí•´ì•¼í•˜ëŠ”-ì´ìœ "><span style="color:navy">1-3) to_datetimeí•¨ìˆ˜ì—ì„œ format ìŠ¤íŠ¸ë§ì„ ëª…ì‹œí•´ì•¼í•˜ëŠ” ì´ìœ <span></span></span></h3>

<p>ê·¸ë¦¬ê³ , <code class="language-plaintext highlighter-rouge">to_datetime</code> í•¨ìˆ˜ì˜ ê²½ìš° ìœ„ì—ì„œ ì–¸ê¸‰í•œ íŒŒì‹±ê´€ë ¨ ì˜µì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ datetime64í˜•ì‹ì˜ timestampë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤. í•˜ì§€ë§Œ í•´ë‹¹ ë°©ë²•ì€ ê°€ëŠ¥í•˜ë©´ ì¶”ì²œí•˜ì§€ ì•ŠëŠ”ë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df_ex1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s">'origin_date1'</span><span class="p">]].</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_ex1</span><span class="p">[</span><span class="s">'ex1'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_ex1</span><span class="p">[</span><span class="s">'origin_date1'</span><span class="p">])</span> <span class="c1"># Here!
</span>
<span class="k">print</span><span class="p">(</span><span class="n">df_ex1</span><span class="p">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• ì „ íƒ€ì… :'</span><span class="p">,</span> <span class="n">df_ex1</span><span class="p">[</span><span class="s">'origin_date1'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• í›„ íƒ€ì… :'</span><span class="p">,</span> <span class="n">df_ex1</span><span class="p">[</span><span class="s">'ex1'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>              origin_date1                       ex1
0  2015-10-02 21:12:01 UTC 2015-10-02 21:12:01+00:00
1  2014-10-26 15:12:00 UTC 2014-10-26 15:12:00+00:00
2  2014-10-26 15:12:00 UTC 2014-10-26 15:12:00+00:00
3  2014-10-26 15:12:00 UTC 2014-10-26 15:12:00+00:00
4  2014-10-26 18:12:00 UTC 2014-10-26 18:12:00+00:00

ë³€í˜• ì „ íƒ€ì… : object
ë³€í˜• í›„ íƒ€ì… : datetime64[ns, UTC]
</code></pre></div></div>

<p><br /></p>

<p>ì™œëƒí•˜ë©´, <code class="language-plaintext highlighter-rouge">format</code> í˜¹ì€ <code class="language-plaintext highlighter-rouge">infer_datetime_format</code>ì˜µì…˜ì„  í†µí•´ format ìŠ¤íŠ¸ë§ì„ ì „ë‹¬í•˜ì§€ ì•Šì„ ê²½ìš°, ì½”ë“œì˜ í¼í¬ë¨¼ìŠ¤ê°€ ê°ì†Œë˜ê¸° ë•Œë¬¸ì´ë‹¤. <br /></p>

<p>ì•„ë˜ì˜ ì˜ˆì œì—ì„œ ì˜µì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš° ì²˜ë¦¬ì‹œê°„ì´ ê°€ì¥ ê¸´ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, timestampì˜ í¬ë§·ì„ <code class="language-plaintext highlighter-rouge">format</code> ì˜µì…˜ì„ ì´ìš©í•˜ì—¬ ì§ì ‘ ì§€ì •í•œ ê²½ìš° ê°€ì¥ ë¹ ë¥¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ê²©ì°¨ëŠ” ë°ì´í„° ì–‘ì´ ëŠ˜ì–´ë‚ ìˆ˜ë¡ ë” ë²Œì–´ì§€ê¸° ë•Œë¬¸ì—, ì‚¬ì´ì¦ˆê°€ í° ë°ì´í„°ì˜ objectë¥¼ datetime64ë¡œ ë³€í™˜ì‹œí‚¤ê³ ì í•  ê²½ìš°ì—ëŠ” formatìŠ¤íŠ¸ë§ì„ ì§ì ‘ ì§€ì •í•´ì£¼ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">ex</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s">'origin_date1'</span><span class="p">]].</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># ì˜µì…˜ x
</span><span class="n">t1</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">()</span>
<span class="n">ex</span><span class="p">[</span><span class="s">'ex1'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ex</span><span class="p">[</span><span class="s">'origin_date1'</span><span class="p">])</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">t1</span>

<span class="c1"># format ì˜µì…˜
</span><span class="n">t2</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">()</span>
<span class="n">ex</span><span class="p">[</span><span class="s">'ex2'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ex</span><span class="p">[</span><span class="s">'origin_date1'</span><span class="p">],</span> <span class="nb">format</span> <span class="o">=</span> <span class="s">'%Y-%m-%d %H:%M:%S UTC'</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">t2</span>

<span class="c1"># infer_datetime_format ì˜µì…˜
</span><span class="n">t3</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">()</span>
<span class="n">ex</span><span class="p">[</span><span class="s">'ex3'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ex</span><span class="p">[</span><span class="s">'origin_date1'</span><span class="p">],</span> <span class="n">infer_datetime_format</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">t3</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">t3</span>

<span class="k">print</span><span class="p">(</span><span class="s">'ì˜µì…˜ x :'</span><span class="p">,</span> <span class="n">t1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'format ì˜µì…˜ :'</span><span class="p">,</span> <span class="n">t2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'infer_datetime_format ì˜µì…˜ :'</span><span class="p">,</span> <span class="n">t3</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì˜µì…˜ x : 0:00:00.094021
format ì˜µì…˜ : 0:00:00.004001
infer_datetime_format ì˜µì…˜ : 0:00:00.015003
</code></pre></div></div>

<p><br /></p>

<h3 id="1-4-error-ì˜µì…˜"><span style="color:navy">1-4) error ì˜µì…˜<span></span></span></h3>

<p>ë‹¤ìŒìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">error</code> ì˜µì…˜ì— ê´€í•œ ì˜ˆì œë¥¼ í™•ì¸í•´ë³´ì.<br /></p>

<p>defaultê°’ì¸ <code class="language-plaintext highlighter-rouge">'raise'</code> ì˜ ê²½ìš° 2099-99-99ë¼ëŠ” ë‚ ì§œëŠ” ì—†ê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">datetime64</code>ë¡œ ë³€í™˜ì´ ë¶ˆê°€ëŠ¥í•˜ì—¬ ì˜¤ë¥˜ë¥¼ ë°˜í™˜ì‹œí‚¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br /></p>

<p>ë°˜ë©´, <code class="language-plaintext highlighter-rouge">'ignore'</code>í˜¹ì€ <code class="language-plaintext highlighter-rouge">'coerce'</code>ê²½ìš°ì—ëŠ” ë³€í™˜ì´ ë¶ˆê°€ëŠ¥í•  ê²½ìš°ì—ëŠ” ê°ê° ë¶ˆê°€ëŠ¥í•œ ê°’ë§Œ ì›ë³¸ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ê±°ë‚˜ <code class="language-plaintext highlighter-rouge">NaT</code>ë¡œ ì¹˜í™˜ì‹œí‚¤ë©° ë‚˜ë¨¸ì§€ì˜ ê²½ìš° ë³€í™˜ì‹œì¼œ ì¶œë ¥ì‹œí‚¨ë‹¤. <br /></p>

<p>ë§ì€ ì–‘ì˜ ë°ì´í„°ë¥¼ ë‹¤ë¥¼ ê²½ìš° ë‹¤ë¥¸ ë‚ ì§œ ë°ì´í„°ë¡œ ì¹˜í™˜í•˜ê±°ë‚˜,  <code class="language-plaintext highlighter-rouge">error='coerce'</code> ì˜µì…˜ì„ ì§€ì •í•˜ì—¬ <code class="language-plaintext highlighter-rouge">NaT</code>ë¡œ ì¹˜í™˜ì‹œí‚¨ í›„ <code class="language-plaintext highlighter-rouge">df[df[ë‚ ì§œí•„ë“œ].notnull()]</code>ë“±ìœ¼ë¡œ í•„í„°ë§í•˜ì—¬ í•´ë‹¹ rowë¥¼ ì œê±°í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># error ì˜µì…˜
</span><span class="n">ex</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="s">'2099-99-99'</span><span class="p">,</span> <span class="s">'2021-01-01'</span><span class="p">],</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">'example'</span><span class="p">])</span>
<span class="n">ex1</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ex</span><span class="p">[</span><span class="s">'example'</span><span class="p">],</span> <span class="nb">format</span> <span class="o">=</span> <span class="s">'%Y-%m-%d'</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="s">'ignore'</span><span class="p">)</span>
<span class="n">ex2</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ex</span><span class="p">[</span><span class="s">'example'</span><span class="p">],</span> <span class="nb">format</span> <span class="o">=</span> <span class="s">'%Y-%m-%d'</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="s">'coerce'</span><span class="p">)</span>

<span class="k">try</span> <span class="p">:</span>
    <span class="n">ex3</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ex</span><span class="p">[</span><span class="s">'example'</span><span class="p">],</span> <span class="nb">format</span> <span class="o">=</span> <span class="s">'%Y-%m-%d'</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="s">'raise'</span><span class="p">)</span>
<span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'ValueError: time data 2099-99-99 doesn</span><span class="se">\'</span><span class="s">t match format specified'</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">[ errors = </span><span class="se">\'</span><span class="s">ignore</span><span class="se">\'</span><span class="s"> ]</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span> <span class="n">ex1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">[ errors = </span><span class="se">\'</span><span class="s">coerce</span><span class="se">\'</span><span class="s"> ]</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span> <span class="n">ex2</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ValueError: time data 2099-99-99 doesn't match format specified

[ errors = 'ignore' ]
0    2099-99-99
1    2021-01-01
Name: example, dtype: object

[ errors = 'coerce' ]
0          NaT
1   2021-01-01
Name: example, dtype: datetime64[ns]
</code></pre></div></div>

<h3 id="1-5-dayfirst-yearfirst-ì˜µì…˜"><span style="color:navy">1-5) dayfirst, yearfirst ì˜µì…˜<span></span></span></h3>

<p>ë§ˆì§€ë§‰ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">dayfirst</code>ì™€ <code class="language-plaintext highlighter-rouge">yearfirst</code>ì— ê´€í•œ ì˜ˆì œë¥¼ í™•ì¸í•´ë³´ì.<br /></p>

<p>ë‘ ì˜µì…˜ë“¤ì€ <code class="language-plaintext highlighter-rouge">format</code>ì˜µì…˜ì„  ì‚¬ìš©í–ˆì„ ê²½ìš°ì—ëŠ” ê³ ë ¤í•  í•„ìš” ì—†ì§€ë§Œ, <code class="language-plaintext highlighter-rouge">infer_datetime_format</code> ì˜µì…˜ì˜ ê²½ìš° ì•„ë˜ì™€ ê°™ì´ ë­ê°€ yearì¸ì§€ monthì¸ì§€ dayì¸ì§€ êµ¬ë³„í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš°ì—ëŠ” ì§€ì •í•´ì£¼ëŠ” ê²ƒì´ ê¶Œì¥ëœë‹¤. í•˜ì§€ë§Œ, í•´ë‹¹ ì˜µì…˜ì„ ì‚¬ìš©í•  ì¼ì€ ê·¸ë˜ë„ ë§ì§€ ì•Šì„ ê²ƒì´ë¼ ìƒê°ë˜ì–´ì§„ë‹¤. <br /></p>

<p>ì•„ë˜ ì˜ˆì œì—ì„œ 2010ë…„ 12ì›” 11ì¼ì„ í‘œí˜„í•  ì˜ë„ë¡œ ë‹¤ìŒê³¼ ê°™ì´ â€˜10-12-11â€™ì´ë¼ í‘œí˜„í•˜ì˜€ë‹¤(ì•„ë§ˆë„ ì´ë ‡ê²Œ ë‚ ì§œë¥¼ ì“°ëŠ” ë‚˜ë¼ëŠ” ì—†ê±°ë‚˜ ì•„ì£¼ ì†Œìˆ˜ ì¼ ê²ƒì´ë‹¤â€¦). í•˜ì§€ë§Œ, <code class="language-plaintext highlighter-rouge">infer_datetime_format</code> ë§Œ ì§€ì •í•  ê²½ìš°(ex2) ì˜ë„ì™€ ë‹¤ë¥´ê²Œ ìŠ¤í˜ì¸ì—ì„œ ì£¼ë¡œ ë‚ ì§œë¥¼ í‘œí˜„í•˜ëŠ” ë°©ì‹ì¸ dd-mm-yyë¡œ íŒŒì‹±í•˜ì—¬ ë³€í™˜ì‹œí‚¨ë‹¤.<br /></p>

<p>ì°¨ë¡€ëŒ€ë¡œ year-month-day(ë°©í–¥ : â†’)ë¡œ íŒŒì‹±í•˜ê¸° ìœ„í•´ì„œëŠ” ex3ê³¼ ê°™ì´  <code class="language-plaintext highlighter-rouge">infer_datetime_forma=True</code> ì™€ í•¨ê»˜ <code class="language-plaintext highlighter-rouge">yearfirst=True</code>ë¥¼ ê°™ì´ ì§€ì •í•  í•„ìš”ê°€ ìˆë‹¤.<br /></p>

<p>ê·¸ì™¸, <code class="language-plaintext highlighter-rouge">dayfirst=True</code>ë¥¼ ì§€ì •í•  ê²½ìš° ì˜¤ë¥¸ìª½ì—ì„œ ì™¼ìª½ ë°©í–¥ ìˆœì„œëŒ€ë¡œ year, month, dayë¥¼ íŒŒì‹±í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ex</span> <span class="o">=</span> <span class="p">[</span><span class="s">'10-12-11'</span><span class="p">]</span>
<span class="n">ex1</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ex</span><span class="p">,</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">ex2</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ex</span><span class="p">,</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">dayfirst</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">ex3</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ex</span><span class="p">,</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">yearfirst</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">'[ original ] : '</span><span class="p">,</span> <span class="n">ex</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="s">'[ infer_datetime_format=True ] : '</span><span class="p">,</span> <span class="n">ex1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># %m-%d-%y ë¡œ íŒŒì‹±í•¨
</span><span class="k">print</span><span class="p">(</span><span class="s">'[ infer_datetime_format=True &amp; dayfirst = True ] : '</span><span class="p">,</span> <span class="n">ex2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># %d-%m-%y ë¡œ íŒŒì‹±í•¨
</span><span class="k">print</span><span class="p">(</span><span class="s">'[ infer_datetime_format=True &amp; yearfirst = True ] : '</span><span class="p">,</span> <span class="n">ex3</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># %y-%m-%d ë¡œ íŒŒì‹±í•¨
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[ original ] :  10-12-11
[ infer_datetime_format=True ] :  2011-10-12 00:00:00
[ infer_datetime_format=True &amp; dayfirst = True ] :  2011-12-10 00:00:00
[ infer_datetime_format=True &amp; yearfirst = True ] :  2010-12-11 00:00:00
</code></pre></div></div>

<p><br /></p>

<hr />

<h2 id="timestampì˜-timezone"><span style="color:navy">Timestampì˜ timezone<span></span></span></h2>

<h3 id="2-1-dttz_localize"><span style="color:navy">2-1) dt.tz_localize<span></span></span></h3>

<p><code class="language-plaintext highlighter-rouge">dt</code>ì—°ì‚°ìì˜ <code class="language-plaintext highlighter-rouge">tz_localize</code>ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ì—¬ <u>timezoneì´ ì§€ì •ë˜ì§€ ì•Šì€ timestamp</u>ì˜ timezoneì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.  <br /></p>

<p><u>ê¸°ì¡´ timezoneì„ ë‹¤ë¥¸ timezone ì‹œê°„ëŒ€ë¡œ ë³€í˜•í•˜ëŠ” ê²ƒì´ ì•„ë‹˜</u>ì„ ì£¼ì˜í•˜ì. <br /></p>

<p>ë”ë¶ˆì–´, <u>í•´ë‹¹ ë©”ì†Œë“œëŠ”  timezoneì´ ì§€ì •ëœ timestampì— ì ìš©í•  ì‹œ ì—ëŸ¬ë¥¼ ë°˜í™˜</u>í•œë‹¤.</p>

<p><br /></p>

<p>ë‹¤ìŒ ì˜ˆì œì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">object</code>íƒ€ì…ì¸ origin_date1í•„ë“œë¥¼ timezoneì´ ì§€ì •ë˜ì§€ ì•Šì€ timestampë¡œ ë³€í˜•í•˜ì—¬ í•œêµ­ì˜ ì‹œê°„ëŒ€(KST)ë¡œ ì§€ì •í•˜ëŠ” ì˜ˆì œì´ë‹¤. ê²°ê³¼ì—ì„œ KSTì‹œê°„ëŒ€ë¡œ ì§€ì •ë˜ì—ˆê¸° ë•Œë¬¸ì— +09:00ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df_ex4</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s">'origin_date1'</span><span class="p">]].</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># tz_localize, utcì˜µì…˜ì„ ì‚¬ìš©x -&gt; timezone = None
</span><span class="n">df_ex4</span><span class="p">[</span><span class="s">'ex1'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_ex4</span><span class="p">[</span><span class="s">'origin_date1'</span><span class="p">],</span> 
                               <span class="nb">format</span> <span class="o">=</span> <span class="s">'%Y-%m-%d %H:%M:%S UTC'</span><span class="p">)</span>
<span class="n">df_ex4</span><span class="p">[</span><span class="s">'ex2'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_ex4</span><span class="p">[</span><span class="s">'ex1'</span><span class="p">].</span><span class="n">dt</span><span class="p">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="s">'Asia/Seoul'</span><span class="p">)</span> 

<span class="k">print</span><span class="p">(</span><span class="n">df_ex4</span><span class="p">[[</span><span class="s">'ex1'</span><span class="p">,</span> <span class="s">'ex2'</span><span class="p">]].</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• í›„ íƒ€ì… (utc = False) :'</span><span class="p">,</span> <span class="n">df_ex4</span><span class="p">[</span><span class="s">'ex1'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• í›„ íƒ€ì… (naive to kst) :'</span><span class="p">,</span> <span class="n">df_ex4</span><span class="p">[</span><span class="s">'ex2'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		ex1                       ex2
0 2015-10-02 21:12:01 2015-10-02 21:12:01+09:00
1 2014-10-26 15:12:00 2014-10-26 15:12:00+09:00
2 2014-10-26 15:12:00 2014-10-26 15:12:00+09:00
3 2014-10-26 15:12:00 2014-10-26 15:12:00+09:00
4 2014-10-26 18:12:00 2014-10-26 18:12:00+09:00 

ë³€í˜• í›„ íƒ€ì… (utc = False) : datetime64[ns]
ë³€í˜• í›„ íƒ€ì… (none to kst) : datetime64[ns, Asia/Seoul]

&lt;br&gt;

</code></pre></div></div>

<h3 id="2-2-dttz_convert"><span style="color:navy">2-2) dt.tz_convert<span></span></span></h3>

<p><code class="language-plaintext highlighter-rouge">dt</code>ì—°ì‚°ìì˜ <code class="language-plaintext highlighter-rouge">tz_convert</code>í•¨ìˆ˜ëŠ” <u>ê¸°ì¡´ timezoneì˜ ì‹œê°„ëŒ€ë¥¼ ë‹¤ë¥¸ timezoneì˜ ì‹œê°„ëŒ€ë¡œ ë³€í™˜</u>ì‹œí‚¬ ë•Œ ì‚¬ìš©í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, UTCì‹œê°„ëŒ€ë¥¼ KSTë¡œ ë³€ê²½ì‹œí‚¬ ìˆ˜ ìˆìœ¼ë©°,  KSTì—ì„œ GMTë¡œë„ ë³€ê²½ì‹œí‚¬ ìˆ˜ ìˆë‹¤.<br /></p>

<p>ë”ë¶ˆì–´, <u>timezoneì´ ì„¸íŒ…ë˜ì–´ìˆì„ ê²½ìš° ë©”ì†Œë“œì— Noneì„ ê¸°ì…í•˜ì—¬ ì„¤ì •ëœ timezoneì„ Noneìœ¼ë¡œ ë³€ê²½</u>ì‹œí‚¬ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ, <u>timezoneì´ ì§€ì •ë˜ì§€ ì•Šì€ timestampì— í•´ë‹¹ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•  ê²½ìš° ì—ëŸ¬ë¥¼ ë°˜í™˜</u>í•œë‹¤.<br /></p>

<p>ë‹¤ìŒ ì˜ˆì œì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">object</code>íƒ€ì…ì¸ origin_date1í•„ë“œë¥¼ <code class="language-plaintext highlighter-rouge">utc</code>ì˜µì…˜ì„ ì§€ì •í•œ <code class="language-plaintext highlighter-rouge">to_datetime</code>í•¨ìˆ˜ë¥¼ í†µí•´ timezoneì´ UTCì¸ ìƒˆë¡œìš´ timestampì—´ì„ ë§Œë“¤ê³ , ìƒˆë¡œ ì¶”ê°€ëœ ì—´ì˜ timezoneì„ UTCì—ì„œ KSTì—ì„œ ë³€í™˜ì‹œì¼œ ìƒˆë¡œìš´ ì—´ë¡œ ì¶”ê°€í•œ ë’¤, ë§ˆì§€ë§‰ìœ¼ë¡œ í•´ë‹¹ ì—´ì˜ timezoneì§€ìš´ ìƒˆë¡œìš´ ì—´ì„ ì¶”ê°€í•˜ëŠ” ê³¼ì •ì´ë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df_ex4</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s">'origin_date1'</span><span class="p">]].</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># tz_convert
</span><span class="n">df_ex4</span><span class="p">[</span><span class="s">'ex3'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_ex4</span><span class="p">[</span><span class="s">'origin_date1'</span><span class="p">],</span> 
                               <span class="nb">format</span> <span class="o">=</span> <span class="s">'%Y-%m-%d %H:%M:%S UTC'</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">df_ex4</span><span class="p">[</span><span class="s">'ex4'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_ex4</span><span class="p">[</span><span class="s">'ex3'</span><span class="p">].</span><span class="n">dt</span><span class="p">.</span><span class="n">tz_convert</span><span class="p">(</span><span class="s">'Asia/Seoul'</span><span class="p">)</span> 
<span class="n">df_ex4</span><span class="p">[</span><span class="s">'ex5'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_ex4</span><span class="p">[</span><span class="s">'ex3'</span><span class="p">].</span><span class="n">dt</span><span class="p">.</span><span class="n">tz_convert</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span> 

<span class="k">print</span><span class="p">(</span><span class="n">df_ex4</span><span class="p">[[</span><span class="s">'ex3'</span><span class="p">,</span> <span class="s">'ex4'</span><span class="p">]].</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>             
<span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• í›„ íƒ€ì… (utc = True) :'</span><span class="p">,</span> <span class="n">df_ex4</span><span class="p">[</span><span class="s">'ex3'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span> <span class="c1"># object -&gt; datetime64(UTC)
</span><span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• í›„ íƒ€ì… (utc to kst) :'</span><span class="p">,</span> <span class="n">df_ex4</span><span class="p">[</span><span class="s">'ex4'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span> <span class="c1"># UTC -&gt; KST
</span><span class="k">print</span><span class="p">(</span><span class="s">'ë³€í˜• í›„ íƒ€ì… (kst to None) :'</span><span class="p">,</span> <span class="n">df_ex4</span><span class="p">[</span><span class="s">'ex5'</span><span class="p">].</span><span class="n">dtypes</span><span class="p">)</span> <span class="c1"># KST -&gt; None
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
		ex3                       ex4
0 2015-10-02 21:12:01+00:00 2015-10-03 06:12:01+09:00
1 2014-10-26 15:12:00+00:00 2014-10-27 00:12:00+09:00
2 2014-10-26 15:12:00+00:00 2014-10-27 00:12:00+09:00
3 2014-10-26 15:12:00+00:00 2014-10-27 00:12:00+09:00
4 2014-10-26 18:12:00+00:00 2014-10-27 03:12:00+09:00 

ë³€í˜• í›„ íƒ€ì… (utc = True) : datetime64[ns, UTC]
ë³€í˜• í›„ íƒ€ì… (utc to kst) : datetime64[ns, Asia/Seoul]
ë³€í˜• í›„ íƒ€ì… (kst to None) : datetime64[ns]
</code></pre></div></div>

<p><br /></p>

<hr />

<h2 id="timestamp-ë°°ì—´-ìƒì„±--date_range"><span style="color:navy">Timestamp ë°°ì—´ ìƒì„± : date_range<span></span></span></h2>

<p>íŒë‹¤ìŠ¤ì˜ <code class="language-plaintext highlighter-rouge">date_range</code> í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ë©´,  timestamp ë°°ì—´ì˜ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤. <br /></p>

<p><code class="language-plaintext highlighter-rouge">date_range</code>í•¨ìˆ˜ì˜ ê¸°ë³¸í˜•ì‹ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pd.data_range(
		start=..., end=...,
		freq=..., periods=...,
		tz=...
	)
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">start</code> : timestampë°°ì—´ì˜ ì‹œì‘ ì ì„ ì§€ì •í•œë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">end</code> : timestampë°°ì—´ì˜ ë ì ì„ ì§€ì •í•œë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">freq</code> : timestampë°°ì—´ì˜ ìƒì„± ì£¼ê¸°ë¥¼ ì§€ì •í•œë‹¤. (offset aliases ì°¸ì¡° <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#timeseries-offset-aliases">ë§í¬</a>)</li>
  <li><code class="language-plaintext highlighter-rouge">periods</code> : <code class="language-plaintext highlighter-rouge">freq</code>ì—ì„œ ì§€ì •í•œ ì£¼ê¸° ë³„ë¡œ ì´ ëª‡ ê°œì˜ timestampë¥¼ ë§Œë“¤ì§€ ì§€ì •í•œë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">tz</code> : ìƒì„±ëœ timestampì˜ timezoneì„ ì§€ì •í•œë‹¤.</li>
</ul>

<p><br /></p>

<p>ë‹¤ìŒ ì˜ˆì œì˜ range_ex1ì€ ì‹œì‘ ë‚ ì§œê°€ 2021ë…„ 1ì›” 1ì¼(<code class="language-plaintext highlighter-rouge">start = '2021-01-01'</code>)ì´ë©°, ì›”ì˜ ì‹œì‘ì¼(<code class="language-plaintext highlighter-rouge">freq = 'MS'</code>)ì„ ì£¼ê¸°ë¡œ ì´ 10ê°œ(<code class="language-plaintext highlighter-rouge">periods = 10</code>)ì˜  timezoneì´ KST(<code class="language-plaintext highlighter-rouge">tz = 'Asia/Seoul'</code>)ì¸ timestampë¡œ ì´ë£¨ì–´ì§„ ë°°ì—´ì„ ë°›ëŠ”ë‹¤. <br /></p>

<p>range_ex2ì˜ ê²½ìš° ì‹œì‘ë‚ ì§œëŠ” 2020ë…„ 1ì›” 1ì¼(<code class="language-plaintext highlighter-rouge">start = '2021-01-01'</code>)ì´ë©°, 3ë‹¬ ê°„ê²©(<code class="language-plaintext highlighter-rouge">freq = '3M'</code>)ìœ¼ë¡œ ì´ 6ê°œ(<code class="language-plaintext highlighter-rouge">periods = 6</code>) ì˜ timezoneì´ UTC(<code class="language-plaintext highlighter-rouge">tz = 'UTC'</code>)ì¸ timestampë¡œ ì´ë£¨ì–´ì§„ ë°°ì—´ì„ ë°›ëŠ”ë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="n">range_ex1</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span> <span class="o">=</span> <span class="s">'2021-01-01'</span><span class="p">,</span>
                          <span class="n">end</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
                          <span class="n">periods</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
                          <span class="n">freq</span> <span class="o">=</span> <span class="s">'MS'</span><span class="p">,</span>
                          <span class="n">tz</span> <span class="o">=</span> <span class="s">'Asia/Seoul'</span><span class="p">)</span>

<span class="n">range_ex2</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span> <span class="o">=</span> <span class="s">'2021-01-01'</span><span class="p">,</span>
                          <span class="n">end</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
                          <span class="n">periods</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
                          <span class="n">freq</span> <span class="o">=</span> <span class="s">'3M'</span><span class="p">,</span>
                          <span class="n">tz</span> <span class="o">=</span> <span class="s">'UTC'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">range_ex1</span><span class="p">)</span>
<span class="k">print</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">range_ex2</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DatetimeIndex(['2021-01-01 00:00:00+09:00', '2021-02-01 00:00:00+09:00',
               '2021-03-01 00:00:00+09:00', '2021-04-01 00:00:00+09:00',
               '2021-05-01 00:00:00+09:00', '2021-06-01 00:00:00+09:00',
               '2021-07-01 00:00:00+09:00', '2021-08-01 00:00:00+09:00',
               '2021-09-01 00:00:00+09:00', '2021-10-01 00:00:00+09:00'],
              dtype='datetime64[ns, Asia/Seoul]', freq='MS')

DatetimeIndex(['2021-01-31 00:00:00+00:00', '2021-04-30 00:00:00+00:00',
               '2021-07-31 00:00:00+00:00', '2021-10-31 00:00:00+00:00',
               '2022-01-31 00:00:00+00:00', '2022-04-30 00:00:00+00:00'],
              dtype='datetime64[ns, UTC]', freq='3M')
</code></pre></div></div>

<p><br /></p>

<hr />

<h2 id="references">References</h2>

<ul>
  <li><a href="https://stackoverflow.com/questions/32034689/why-is-pandas-to-datetime-slow-for-non-standard-time-format-such-as-2014-12-31">stackoverflow : Why is pandas.to_datetime slow for non standard time format</a></li>
  <li><a href="https://pandas.pydata.org/docs/reference/api/pandas.to_datetime.html">pandas doc : pandas.to_datetime</a></li>
  <li><a href="https://pandas.pydata.org/docs/reference/api/pandas.date_range.html">pandas doc : pandas.date_range</a></li>
  <li><a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#timeseries-offset-aliases">pandas doc  : offset aliases</a></li>
  <li><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.tz_localize.html">pandas doc : pandas.Series.dt.tz_localize</a></li>
  <li><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.tz_convert.html?highlight=dt%20tz_convert#pandas.Series.dt.tz_convert">pandas doc : pandas.Series.dt.tz_convert</a></li>
  <li><a href="https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior">python doc :  strftime format</a></li>
  <li>ì˜¤ìŠ¹í™˜, ã€íŒŒì´ì¬ ë¨¸ì‹ ëŸ¬ë‹ íŒë‹¤ìŠ¤ ë°ì´í„° ë¶„ì„ã€, ì •ë³´ë¬¸í™”ì‚¬ (2019)</li>
</ul>
:ET